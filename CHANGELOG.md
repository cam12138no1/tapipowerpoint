# TapiPowerPoint 更新日志

## 2026-01-29

### 修复：新手引导组件高亮定位和步骤导航问题

**问题描述：**
- 新手引导的截图/高亮框错乱
- 第五步骤（开始生成）无法点击
- 高亮框定位不准确

**修复内容：**

1. **增强高亮定位逻辑**
   - 使用 `requestAnimationFrame` 确保DOM更新后再获取元素位置
   - 添加元素可见性验证（检查宽高是否大于0）
   - 延迟150ms执行高亮更新，确保页面渲染完成

2. **添加滚动监听**
   - 监听窗口滚动事件，实时更新高亮框位置
   - 确保滚动时高亮框与目标元素保持同步

3. **优化提示框位置计算**
   - 当顶部空间不足时自动切换到底部显示
   - 当左侧空间不足时自动切换到右侧显示
   - 添加平滑过渡动画

4. **步骤切换动画**
   - 添加步骤切换时的缩放和透明度动画
   - 提升用户体验

5. **进度点可点击**
   - 进度指示器现在可以点击直接跳转到任意步骤
   - 添加hover效果提示可点击

6. **视觉增强**
   - 添加角标装饰，使高亮效果更明显
   - 优化遮罩层添加模糊效果
   - 优化动画效果

**技术细节：**
- 文件：`client/src/components/OnboardingTour.tsx`
- 提交：5b6dacb

---

## 之前的更新

### 品牌纯净度强化
- 在AI提示词顶部添加严格的品牌纯净规则
- 防止"Powered by Manus"或任何AI品牌标识出现在生成的PPT中

### 前端指令过滤
- 添加22个关键词过滤器
- 防止内部提示指令显示在用户界面

### 图片布局规则
- 添加图片布局规则防止图片覆盖文字内容

### 预览加载修复
- 修复PDF不可用时的无限加载问题
- 显示下载提示代替无限加载状态
